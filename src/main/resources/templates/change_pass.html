<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title> Change Password </title>
    <object th:include="fragments/fragment :: js" th:remove="tag"></object>

    <object th:include="fragments/fragment :: css" th:remove="tag"></object>


</head>
<body>
<div th:replace="fragments/fragment :: header"></div>
<nav th:replace="fragments/fragment :: navbar"></nav>

<div class="content-container">
    <div class="container-fluid">
        <div class="row">
            <!--Page Name Header-->
            <div class="col-sm-6">
                <div class="pageName">
                    <h3>Change Password</h3>
                    <p><a th:href="@{/user/profil}">Profil</a> > Change Password</p>
                </div>
                <span id="alert"></span>
            </div>
            <div class="col-sm-6"> </div>
        </div>
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <div class="card-content">
        <H2 class="alert-warning" th:if="${message}" th:text="${message}"></H2>
        <h2 class="text-center">Form Change Password</h2>
        <br>

        <form th:action="@{/user/changepass}" th:object="${user}" method="POST">
            Password Lama : <br>
            <input type="password" name="password" class="form-control" required/>
            <br>
            Password : <br>
            <input id="password" type="password" name="new_pass" class="form-control" title="8 or more character with number"
                   pattern="(?=.*\d)(?=.*[a-z]).{8,}" placeholder="8 or more character with number" onkeyup="check_pass();" required/>
            <br>
            Confirm Password : <br>
            <input type="password" id="confirm_password"  class="form-control" onkeyup="check_pass();"/>
            <span id='message'></span>
            <br>
            <button type="submit" id="submit" class="btn btn-primary">Simpan</button>

        </form>
    </div>
        </div>
        <div class="col-md-2"></div>
    </div>
</div>
    <script type="text/javascript">

        function check_pass() {
            console.log("AAAA masuk")
            if (document.getElementById('password').value ==
                document.getElementById('confirm_password').value) {
                document.getElementById('submit').disabled = false;
                document.getElementById('message').style.color = '';
                document.getElementById('message').innerHTML = '';
            } else {
                document.getElementById('submit').disabled = true;
                document.getElementById('message').style.color = 'red';
                document.getElementById('message').innerHTML = 'Password tidak sama';
            }
        }
    </script>
</body>
</html>